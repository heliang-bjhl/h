seajs.use("calendar_css"),seajs.use(["$","util","calendar","select"],function(a,b,c,d){var e={},f={setSel:function(){e.mounth1=new d({trigger:"#j_Mounth1"}).render(),e.mounth2=new d({trigger:"#j_Mounth2"}).render()},setChart:function(a){var b={chart:{renderTo:"contain",type:"column",animation:{duration:1e3}},subtitle:{text:"",align:"right",x:-10},legend:{enabled:!1},title:{text:"月度对比"},xAxis:{categories:[a.mounth1,a.mounth2]},yAxis:{title:{text:"人数"}},series:[{name:"月独立访客数",data:a.arr2,stack:"月独立访客数"},{name:"月活跃用户数",data:a.arr1,stack:"月活跃用户数"},{name:"月会员到访数",data:a.arr3,stack:"月会员到访数"}],credits:{enabled:0}};e.chart1=new Highcharts.Chart(b)},sendAjax:function(b){a.ajax({url:"/rpt_mall_total_visit_index_p_month_compare",data:{month1:b.month1,month2:b.month2},dataType:"json"}).done(function(b){if(b&&200==b.code){e.chart1=null,a("#contain").empty();var c=b.data1[0],d=b.data2[0],g=parseInt(c.active_visitors)||0,h=parseInt(d.active_visitors)||0,i=parseInt(c.visitors)||0,j=parseInt(d.visitors)||0,k=parseInt(c.member)||0,l=parseInt(d.member)||0;f.setChart({mounth1:c.eve_month,mounth2:d.eve_month,arr1:[g,h],arr2:[i,j],arr3:[k,l]})}else obj=!1}).fail(function(){})},bind:function(){a("#j_contrast").on("click",function(){f.sendAjax({month1:a("#j_Mounth1").val(),month2:a("#j_Mounth2").val()})})}},g=function(){f.setSel(),f.bind(),a("#j_contrast").trigger("click")};g(),$$m.finish("ok")});